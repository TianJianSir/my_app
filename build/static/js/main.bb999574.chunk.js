(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{198:function(e,t,n){e.exports=n.p+"static/media/1.436caf36.jpg"},209:function(e,t,n){e.exports=n(449)},256:function(e,t){},342:function(e,t,n){},377:function(e,t,n){},445:function(e,t,n){},447:function(e,t,n){},449:function(e,t,n){"use strict";n.r(t);var a=n(56),r=n.n(a),o=n(197),s=n.n(o),c=n(15),i=n(65),l=n.n(i),u=n(66),m=n(77),p=n.n(m),d=n(78),h=n.n(d),f={REQUEST:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this[t](e,n).then(function(e){return e.data})},GET:function(e,t){return h.a.get(e,{params:t})},POST:function(e,t){return h.a.post(e,t)},DELETE:function(e,t){var n=t.params;return h.a.delete(e,n)},PUT:function(e,t){return h.a.put(e,t)}},g={namespace:"login",state:{name:"",password:"",isLogin:!1},reducers:{handleInput:function(e,t){var n=t.value;return e[t.name]=n,Object(u.a)({},e)},refresh:function(e,t){var n=t.payload;return Object(u.a)({},e,n)}},effects:{handleSubmit:l.a.mark(function e(t,n){var a,r,o,s,c,i,u,m;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.put,r=n.select,e.next=3,r(function(e){return e.login});case 3:return o=e.sent,s=o.name,c=o.password,i={name:s,password:p()(c)},e.next=8,f.REQUEST("/api/user","PUT",i);case 8:return u=e.sent,m=0===u.ret,e.next=12,a({type:"refresh",payload:{isLogin:m}});case 12:case"end":return e.stop()}},e,this)})}},b={namespace:"register",state:{name:"",password:"",confirm_password:"",isRegister:!1},subscriptions:{},effects:{handleSubmit:l.a.mark(function e(t,n){var a,r,o,s,c,i,u,m,d;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.put,r=n.select,e.next=3,r(function(e){return e.register});case 3:return o=e.sent,s=o.name,c=o.password,i=o.confirm_password,u={name:s,password:p()(c),confirm_password:p()(i)},e.next=8,f.REQUEST("/api/user","POST",u);case 8:return m=e.sent,d=0===m.ret,e.next=12,a({type:"refresh",payload:{isRegister:d}});case 12:case"end":return e.stop()}},e,this)})},reducers:{handleInput:function(e,t){var n=t.value;return e[t.name]=n,Object(u.a)({},e)},refresh:function(e,t){var n=t.payload;return Object(u.a)({},e,n)}}},E=n(1),v=n.n(E),y=n(67),w=n(29),O=n(30),j=n(34),k=n(31),C=n(35),x=n(62),N=(n(342),n(198)),S=n.n(N),R=function(e){function t(e){return Object(w.a)(this,t),Object(j.a)(this,Object(k.a)(t).call(this,e))}return Object(C.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return v.a.createElement("div",{className:"container"},v.a.createElement("header",null,v.a.createElement(x.a,{to:"/blog/login"},"\u767b\u5f55"),v.a.createElement(x.a,{to:"/blog/register"},"\u6ce8\u518c")),v.a.createElement("div",{className:"section"},v.a.createElement("img",{src:S.a})))}}]),t}(E.Component),_=(n(130),n(44)),T=(n(347),n(206)),P=(n(183),n(59)),I=(n(184),n(9)),U=(n(185),n(95)),L=(n(186),n(60)),K=(n(194),n(96)),Q=n(97);function W(e){return function(e){return function(t){function n(t){var a;return Object(w.a)(this,n),(a=Object(j.a)(this,Object(k.a)(n).call(this,t))).componentName=e.name,a.componentKind=e._component_kind_,a.state={hasError:!1,error:null,info:null},a}return Object(C.a)(n,t),Object(O.a)(n,[{key:"handleError",value:function(e,t){var n=this.componentName,a=this.componentKind;this.setState({hasError:!0,error:e,info:t}),console.log("----------------------------"),console.log("[error componentKind]",a),console.log("[error componentName]",n),console.log("[error message]",e),console.log("[error info]",t),console.log("----------------------------")}},{key:"componentDidCatch",value:function(e,t){this.handleError(e,t)}},{key:"render",value:function(){return this.state.hasError?null:v.a.createElement(e,this.props)}}]),n}(v.a.Component)}(e)}n(377);var q,B,D=K.a.Item,F=W(q=function(e){function t(e){var n;return Object(w.a)(this,t),(n=Object(j.a)(this,Object(k.a)(t).call(this,e))).handleSubmit=function(){var e=n.props,t=e.login,a=e.dispatch,r=t.name,o=t.password;return r?o?void a({type:"login/handleSubmit"}):(L.a.error({message:"\u9519\u8bef\u4fe1\u606f",description:"\u8bf7\u8f93\u5165\u5bc6\u7801"}),!1):(L.a.error({message:"\u9519\u8bef\u4fe1\u606f",description:"\u8bf7\u8f93\u5165\u59d3\u540d"}),!1)},n}return Object(C.a)(t,e),Object(O.a)(t,[{key:"handleChange",value:function(e,t){var n=e.target?e.target.value:e;this.props.dispatch({type:"login/handleInput",value:n,name:t})}},{key:"render",value:function(){var e=this,t=this.props,n=t.login,a=(t.loading,n.name),r=n.password,o=n.isLogin;return v.a.createElement("div",{className:"login_container"},v.a.createElement(U.a,null,"LOGIN"),v.a.createElement("div",{className:"login-form"},v.a.createElement(Q.a,{delay:300,className:"queue-simple"},v.a.createElement(D,{key:"form1"},v.a.createElement(P.a,{value:a,onChange:function(t){return e.handleChange(t,"name")},prefix:v.a.createElement(I.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"})),v.a.createElement(D,{key:"form2"},v.a.createElement(P.a,{value:r,onChange:function(t){return e.handleChange(t,"password")},prefix:v.a.createElement(I.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"})),v.a.createElement(D,{key:"form3"},v.a.createElement(T.a,{className:"logon-remember",checked:!0},"Remember me"),v.a.createElement("a",{className:"login-form-forgot",href:""},o?"\u5df2\u767b\u9646":"Forgot password"),v.a.createElement(_.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:this.handleSubmit},"Log in"),"Or ",v.a.createElement(x.a,{to:"/blog/register"},"register now!")))))}}]),t}(E.Component))||q,G=Object(a.connect)(function(e){return{login:e.login,loading:e.loading}})(F),J=(n(445),K.a.Item),$=W(B=function(e){function t(e){var n;return Object(w.a)(this,t),(n=Object(j.a)(this,Object(k.a)(t).call(this,e))).handleSubmit=function(){var e=n.props,t=e.register,a=e.dispatch,r=t.name,o=t.password,s=t.confirm_password;return r?o?o!==s?(L.a.error({message:"\u9519\u8bef\u4fe1\u606f",description:"\u4e24\u6b21\u5bc6\u7801\u4e0d\u4e00\u81f4"}),!1):void a({type:"register/handleSubmit"}):(L.a.error({message:"\u9519\u8bef\u4fe1\u606f",description:"\u8bf7\u8f93\u5165\u5bc6\u7801"}),!1):(L.a.error({message:"\u9519\u8bef\u4fe1\u606f",description:"\u8bf7\u8f93\u5165\u59d3\u540d"}),!1)},n}return Object(C.a)(t,e),Object(O.a)(t,[{key:"handleChange",value:function(e,t){var n=e.target?e.target.value:e;this.props.dispatch({type:"register/handleInput",value:n,name:t})}},{key:"render",value:function(){var e=this,t=this.props.register,n=t.name,a=t.password,r=t.confirm_password;return v.a.createElement("div",{className:"register_container"},v.a.createElement(U.a,null,"Register"),v.a.createElement("div",{className:"register-form"},v.a.createElement(Q.a,{delay:300,className:"queue-simple"},v.a.createElement(J,{key:"form1"},v.a.createElement(P.a,{value:n,onChange:function(t){return e.handleChange(t,"name")},prefix:v.a.createElement(I.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"})),v.a.createElement(J,{key:"form2"},v.a.createElement(P.a,{name:a,onChange:function(t){return e.handleChange(t,"password")},prefix:v.a.createElement(I.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"})),v.a.createElement(J,{key:"form3"},v.a.createElement(P.a,{name:r,onChange:function(t){return e.handleChange(t,"confirm_password")},prefix:v.a.createElement(I.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Confirm Password"})),v.a.createElement(J,{key:"form4"},v.a.createElement(_.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:this.handleSubmit},"register"),"Or ",v.a.createElement(x.a,{to:"/blog/login"},"login now!")))))}}]),t}(E.Component))||B,z=Object(a.connect)(function(e){return{register:e.register}})($),A=n(145),H=n.n(A),M=function(e){function t(e){var n;return Object(w.a)(this,t),(n=Object(j.a)(this,Object(k.a)(t).call(this,e))).handleProgress=function(e){e.location.pathname!==n.props.pathname&&(H.a.start(),e.app._store.getState().loading.global||H.a.done())},n}return Object(C.a)(t,e),Object(O.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.handleProgress(e)}},{key:"render",value:function(){return v.a.createElement("div",{className:"Frame"},this.props.children)}}]),t}(E.Component),V=function(e){var t=e.app;return v.a.createElement(y.BrowserRouter,null,v.a.createElement(y.Switch,null,v.a.createElement(M,{app:t},v.a.createElement(y.Route,{path:"/blog",exact:!0,component:R}),v.a.createElement(y.Route,{path:"/blog/login",exact:!0,component:G}),v.a.createElement(y.Route,{path:"/blog/register",exact:!0,component:z}))))};n(447),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var X=r()({history:Object(c.a)()});X.use(s()()),X.model(g),X.model(b),X.router(V),X.start("#root"),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[209,2,1]]]);
//# sourceMappingURL=main.bb999574.chunk.js.map